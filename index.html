<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <!-- Manifest -->
  <link rel="manifest" href="manifest.json">

  <!-- Icons -->
  <link rel="icon" type="image/png" sizes="192x192" href="icons/wallet-icon-192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="icons/wallet-icon-512.png">
  <link rel="apple-touch-icon" href="icons/wallet-icon-512.png">

  <title>Ù…Ø­ÙØ¸ØªÙŠ â€” Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø±ØµØ¯Ø© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©</title>
  <link href="style.css" rel="stylesheet">

  <!-- CSS Ø§Ù„Ø®Ø§Øµ Ø¨Ø§Ù„Ø³Ø¨Ù„Ø§Ø´ -->
  <style>
    #splash-screen {
      position: fixed;
      inset: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      background: radial-gradient(circle at center, #1565C0, #0d47a1);
      color: #fff;
      z-index: 9999999;
      transition: opacity 1s ease-out;
      font-family: 'Cairo', sans-serif;
    }

    #splash-screen.hide {
      opacity: 0;
      pointer-events: none;
      display: none;
    }

    /* Ø§Ù„Ø´Ø¹Ø§Ø± */
    #splash-screen img.logo {
      width: 150px;
      opacity: 0;
      transform: scale(0.7);
      animation: fadeInScale 1.4s forwards, goldenPulse 3s ease-in-out infinite;
      filter: drop-shadow(0 0 10px rgba(255, 215, 0, 0.6));
    }

    .app-name {
      font-size: 2rem;
      margin-top: 14px;
      opacity: 0;
      transform: translateY(10px);
      animation: fadeInUp 1s 1s forwards;
      font-weight: 700;
    }

    .tagline {
      font-size: 1rem;
      color: #FFD700;
      opacity: 0;
      animation: fadeIn 1s 2s forwards;
      margin-top: 8px;
      font-weight: 500;
    }

    /* Ù†Ù‚Ø§Ø· Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
    .loading-dots {
      display: flex;
      gap: 8px;
      margin-top: 30px;
      opacity: 0;
      animation: fadeIn 1s 2.5s forwards;
    }
    .loading-dots div {
      width: 10px; height: 10px;
      border-radius: 50%;
      background-color: #FFD700;
      animation: bounceDot 1.4s infinite ease-in-out;
    }
    .loading-dots div:nth-child(2) { animation-delay: 0.2s; }
    .loading-dots div:nth-child(3) { animation-delay: 0.4s; }

    .splash-footer {
      position: absolute;
      bottom: 12px;
      width: 100%;
      text-align: center;
      font-size: 0.85rem;
      color: rgba(255,255,255,0.95);
    }

    /* Animations */
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes fadeInScale {
      from { opacity: 0; transform: scale(0.7); }
      to { opacity: 1; transform: scale(1); }
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes bounceDot {
      0%,80%,100% { transform: scale(0.7); opacity: 0.7; }
      40% { transform: scale(1.3); opacity: 1; }
    }
    @keyframes goldenPulse {
      0%,100% { filter: drop-shadow(0 0 10px rgba(255,215,0,0.4)); transform: scale(1); }
      50% { filter: drop-shadow(0 0 25px rgba(255,215,0,0.9)); transform: scale(1.05); }
    }
  </style>
</head>

<body>

<!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø³Ø¨Ù„Ø´ -->
<div id="splash-screen">
  <img src="wallet-icon-512.png" class="logo">
  <div class="app-name">Ù…Ø­ÙØ¸ØªÙŠ</div>
  <div class="tagline">Ø¥Ø¯Ø§Ø±Ø© Ø£Ù…ÙˆØ§Ù„Ùƒ Ø¨Ø°ÙƒØ§Ø¡ ğŸ’</div>

  <div class="loading-dots">
    <div></div><div></div><div></div>
  </div>

  <div class="splash-footer">ØªØµÙ…ÙŠÙ…: Ø£Ø¨Ùˆ Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Â· Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Â©</div>
</div>


<!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø£ØµÙ„ÙŠ ÙƒÙ…Ø§ Ù‡Ùˆ -->
<div class="notification-container"></div>

<header class="app-header">ğŸ’ Ù…Ø­ÙØ¸ØªÙŠ â€” Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù…ÙˆØ­Ø¯</header>

<main class="container">
  <h1 class="page-title">ğŸ’° Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø±ØµØ¯Ø© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©</h1>

  <div class="cards-grid" id="cardsGrid" aria-live="polite">
    <div class="card card-yer" data-idx="0">
      <div class="card-title">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø±ØµØ¯Ø© Ø¨Ø§Ù„Ø±ÙŠØ§Ù„ Ø§Ù„ÙŠÙ…Ù†ÙŠ (YER)</div>
      <div class="card-amount" id="total-yer">â€”</div>
      <div class="card-note">ØªÙ‚Ø¯ÙŠØ± Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø£Ø³Ø¹Ø§Ø± Ø§Ù„ØµØ±Ù Ø§Ù„Ø­Ø§Ù„ÙŠØ©.</div>
      <div class="card-update" id="update-yer">Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: â€”</div>
    </div>

    <div class="card card-sar" data-idx="1">
      <div class="card-title">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø±ØµØ¯Ø© Ø¨Ø§Ù„Ø±ÙŠØ§Ù„ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ (SAR)</div>
      <div class="card-amount" id="total-sar">â€”</div>
      <div class="card-note">ØªÙ‚Ø¯ÙŠØ± Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø£Ø³Ø¹Ø§Ø± Ø§Ù„ØµØ±Ù Ø§Ù„Ø­Ø§Ù„ÙŠØ©.</div>
      <div class="card-update" id="update-sar">Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: â€”</div>
    </div>

    <div class="card card-usd" data-idx="2">
      <div class="card-title">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø±ØµØ¯Ø© Ø¨Ø§Ù„Ø¯ÙˆÙ„Ø§Ø± Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠ (USD)</div>
      <div class="card-amount" id="total-usd">â€”</div>
      <div class="card-note">ØªÙ‚Ø¯ÙŠØ± Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø£Ø³Ø¹Ø§Ø± Ø§Ù„ØµØ±Ù Ø§Ù„Ø­Ø§Ù„ÙŠØ©.</div>
      <div class="card-update" id="update-usd">Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: â€”</div>
    </div>
  </div>

  <div class="action-row">
    <a href="settings.html" id="updateLink" class="btn primary">ğŸ”„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ù…Ù† Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</a>
  </div>
</main>

<nav class="bottom-nav">
    <a href="index.html" class="active"><span class="icon">ğŸ </span><span>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span></a>
    <a href="banks.html"><span class="icon">ğŸ“Š</span><span>Ø§Ù„Ø£ØµÙˆÙ„</span></a>
    <a href="gold.html"><span class="icon">ğŸ’</span><span>Ø§Ù„Ø°Ù‡Ø¨</span></a>
    <a href="zakat.html"><span class="icon">ğŸ•Œ</span><span>Ø§Ù„Ø²ÙƒØ§Ø©</span></a>
    <a href="debts.html"><span class="icon">ğŸ’³</span><span>Ø§Ù„Ø¯ÙŠÙˆÙ†</span></a>
    <a href="backup.html"><span class="icon">ğŸ“¦</span><span>Ø§Ù„Ù†Ø³Ø®</span></a>
    <a href="settings.html"><span class="icon">âš™ï¸</span><span>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</span></a>
</nav>

<script src="core_logic.js"></script>
<script src="app.js"></script>

<script>
  // ØªØ³Ø¬ÙŠÙ„ Service Worker
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("sw.js");
  }

  // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø³Ø¨Ù„Ø´ Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙÙ‚Ø·
document.addEventListener("DOMContentLoaded", () => {
    const splash = document.getElementById("splash-screen");

    // Ù‡Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…ÙØªÙˆØ­ Ù„Ø£ÙˆÙ„ Ù…Ø±Ø© ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø¬Ù„Ø³Ø©ØŸ
    const firstOpen = !sessionStorage.getItem("openedBefore");

    if (firstOpen) {

        splash.style.display = "flex";

        setTimeout(() => {
            splash.classList.add("hide");
            sessionStorage.setItem("openedBefore", "yes"); // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø§ÙØªØªØ§Ø­
        document.body.classList.add("main-loaded");

        }, 6000);

    } else {
        // ØªÙ… ÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…Ø³Ø¨Ù‚Ù‹Ø§ â†’ Ù„Ø§ Ø³Ø¨Ù„Ø´
        splash.remove();

        // ÙˆÙ‡Ù†Ø§ Ø£ÙŠØ¶Ø§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„ÙØªØ­ Ø¨Ø¯ÙˆÙ† Ø³Ø¨Ù„Ø´
        document.body.classList.add("main-loaded");
    }
});


  // Ù…Ù†Ø¹ Ø§Ù„Ø³Ø¨Ù„Ø´ Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ "Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©" ÙˆØ£Ù†Øª Ø¯Ø§Ø®Ù„Ù‡Ø§
  document.addEventListener("DOMContentLoaded", () => {
    const homeLink = document.querySelector('a[href="index.html"]');

    if (homeLink) {
      homeLink.addEventListener("click", (event) => {

        if (window.location.pathname.endsWith("index.html") || 
            window.location.pathname === "/" ||
            window.location.pathname === "/index.html") {

          event.preventDefault(); // Ù„Ø§ ØªØ¹ÙŠØ¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        }

      });
    }
  });
</script>

</body>
</html>
